{"version":3,"sources":["hooks/http.hook.js","components/heroesListItem/HeroesListItem.js","components/spinner/Spinner.js","components/heroesList/HeroesList.js","actions/index.js","components/heroesAddForm/HeroesAddForm.js","components/heroesFilters/HeroesFilters.js","components/app/App.js","reducers/heroes.js","reducers/filters.js","store/index.js","index.js"],"names":["useHttp","request","useCallback","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","method","body","headers","response","data","_args","arguments","wrap","_context","prev","next","length","undefined","fetch","sent","ok","Error","concat","status","json","abrupt","t0","stop","_x","apply","HeroesListItem","elementClassName","name","description","element","onDelete","_jsxs","className","children","_jsx","src","alt","style","objectFit","onClick","type","aria-label","Spinner","role","HeroesList","filteredHeroesSelector","createSelector","state","filters","activeFilter","heroes","filter","console","log","item","filteredHeroes","useSelector","heroesLoadingStatus","dispatch","useDispatch","useEffect","then","payload","catch","id","heroDeleted","err","arr","elements","CSSTransition","timeout","classNames","map","props","_objectWithoutProperties","_objectSpread","TransitionGroup","component","HeroesAddForm","_useState","useState","_useState2","_slicedToArray","heroName","setHeroName","_useState3","_useState4","heroDescr","setHeroDescr","_useState5","_useState6","heroElement","setHeroElement","_useSelector","filtersLoadingStatus","onSubmit","e","preventDefault","hero","newHero","uuidv4","JSON","stringify","res","htmlFor","required","placeholder","value","onChange","target","height","label","renderFilters","HeroesFilters","filtersFetched","btnClass","active","App","initialState","action","_toConsumableArray","store","createStore","combineReducers","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","React","StrictMode","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.69db25d4.chunk.js","sourcesContent":["import { useCallback } from \"react\";\n\nexport const useHttp = () => {\n    // const [process, setProcess] = useState('waiting');\n\n    const request = useCallback(async (url, method = 'GET', body = null, headers = {'Content-Type': 'application/json'}) => {\n\n        // setProcess('loading');\n\n        try {\n            const response = await fetch(url, {method, body, headers});\n\n            if (!response.ok) {\n                throw new Error(`Could not fetch ${url}, status: ${response.status}`);\n            }\n\n            const data = await response.json();\n\n            return data;\n        } catch(e) {\n            // setProcess('error');\n            throw e;\n        }\n    }, []);\n\n    // const clearError = useCallback(() => {\n        // setProcess('loading');\n    // }, []);\n\n    return {request, \n            // clearError, \n            // process, \n            // setProcess\n        }\n}","const HeroesListItem = ({ name, description, element, onDelete }) => {\n  let elementClassName;\n\n  switch (element) {\n    case \"fire\":\n      elementClassName = \"bg-danger bg-gradient\";\n      break;\n    case \"water\":\n      elementClassName = \"bg-primary bg-gradient\";\n      break;\n    case \"wind\":\n      elementClassName = \"bg-success bg-gradient\";\n      break;\n    case \"earth\":\n      elementClassName = \"bg-secondary bg-gradient\";\n      break;\n    default:\n      elementClassName = \"bg-warning bg-gradient\";\n  }\n\n  return (\n    <li\n      className={`card flex-row mb-4 shadow-lg text-white ${elementClassName}`}\n    >\n      <img\n        src=\"http://www.stpaulsteinbach.org/wp-content/uploads/2014/09/unknown-hero.jpg\"\n        className=\"img-fluid w-25 d-inline\"\n        alt=\"unknown hero\"\n        style={{ objectFit: \"cover\" }}\n      />\n      <div className=\"card-body\">\n        <h3 className=\"card-title\">{name}</h3>\n        <p className=\"card-text\">{description}</p>\n      </div>\n      <span\n        onClick={onDelete}\n        className=\"position-absolute top-0 start-100 translate-middle badge border rounded-pill bg-light\"\n      >\n        <button\n          type=\"button\"\n          className=\"btn-close btn-close\"\n          aria-label=\"Close\"\n        ></button>\n      </span>\n    </li>\n  );\n};\n\nexport default HeroesListItem;\n","\nconst Spinner = () => {\n    return (\n        <div className=\"spinner-border mx-auto mt-5\" role=\"status\">\n            <span className=\"visually-hidden\">Loading...</span>\n        </div>\n    )\n}\n\nexport default Spinner;","import { useHttp } from \"../../hooks/http.hook\";\nimport { useEffect, useCallback } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\";\nimport { createSelector } from \"reselect\";\n\nimport {\n  heroesFetching,\n  heroesFetched,\n  heroesFetchingError,\n  heroDeleted,\n} from \"../../actions\";\nimport HeroesListItem from \"../heroesListItem/HeroesListItem\";\nimport Spinner from \"../spinner/Spinner\";\n\nimport \"./heroesList.scss\";\n\nconst HeroesList = () => {\n  const filteredHeroesSelector = createSelector(\n    (state) => state.filters.activeFilter,\n    (state) => state.heroes.heroes,\n    (filter, heroes) => {\n      if (filter === \"all\") {\n        console.log(\"render\");\n        return heroes;\n      } else {\n        return heroes.filter((item) => item.element === filter);\n      }\n    }\n  );\n\n  const filteredHeroes = useSelector(filteredHeroesSelector);\n  const heroesLoadingStatus = useSelector(\n    (state) => state.heroes.heroesLoadingStatus\n  );\n  const dispatch = useDispatch();\n  const { request } = useHttp();\n\n  useEffect(() => {\n    dispatch(heroesFetching());\n    request(\"http://localhost:3001/heroes\")\n      .then((data) => dispatch(heroesFetched(data)))\n      .catch(() => dispatch(heroesFetchingError()));\n\n    // eslint-disable-next-line\n  }, []);\n\n  const onDelete = useCallback(\n    (id) => {\n      request(`http://localhost:3001/heroes/${id}`, \"DELETE\")\n        .then((data) => console.log(data, \"Deleted\"))\n        .then(dispatch(heroDeleted(id)))\n        .catch((err) => console.log(err));\n      // eslint-disable-next-line\n    },\n    [request]\n  );\n\n  if (heroesLoadingStatus === \"loading\") {\n    return <Spinner />;\n  } else if (heroesLoadingStatus === \"error\") {\n    return <h5 className=\"text-center mt-5\">Ошибка загрузки</h5>;\n  }\n\n  const renderHeroesList = (arr) => {\n    if (arr.length === 0) {\n      return (\n        <CSSTransition timeout={0} classNames=\"hero\">\n          <h5 className=\"text-center mt-5\">Героев пока нет</h5>\n        </CSSTransition>\n      );\n    }\n\n    return arr.map(({ id, ...props }) => {\n      return (\n        <CSSTransition key={id} timeout={500} classNames=\"hero\">\n          <HeroesListItem {...props} onDelete={() => onDelete(id)} />\n        </CSSTransition>\n      );\n    });\n  };\n\n  const elements = renderHeroesList(filteredHeroes);\n  return <TransitionGroup component=\"ul\">{elements}</TransitionGroup>;\n};\n\nexport default HeroesList;\n","export const heroesFetching = () => {\n  return {\n    type: \"HEROES_FETCHING\",\n  };\n};\n\nexport const heroesFetched = (heroes) => {\n  return {\n    type: \"HEROES_FETCHED\",\n    payload: heroes,\n  };\n};\n\nexport const heroesFetchingError = () => {\n  return {\n    type: \"HEROES_FETCHING_ERROR\",\n  };\n};\n\nexport const filtersFetching = () => {\n  return {\n    type: \"FILTERS_FETCHING\",\n  };\n};\n\nexport const filtersFetched = (filters) => {\n  return {\n    type: \"FILTERS_FETCHED\",\n    payload: filters,\n  };\n};\n\nexport const filtersFetchingError = () => {\n  return {\n    type: \"FILTERS_FETCHING_ERROR\",\n  };\n};\n\nexport const activeFilterChanged = (filter) => {\n  return {\n    type: \"ACTIVE_FILTER_CHANGED\",\n    payload: filter,\n  };\n};\n\nexport const heroCreated = (hero) => {\n  return {\n    type: \"HERO_CREATED\",\n    payload: hero,\n  };\n};\n\nexport const heroDeleted = (id) => {\n  return {\n    type: \"HERO_DELETED\",\n    payload: id,\n  };\n};\n","import { useHttp } from \"../../hooks/http.hook\";\nimport { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nimport { heroCreated } from \"../../actions\";\n\nconst HeroesAddForm = () => {\n  const [heroName, setHeroName] = useState(\"\");\n  const [heroDescr, setHeroDescr] = useState(\"\");\n  const [heroElement, setHeroElement] = useState(\"\");\n\n  const { filters, filtersLoadingStatus } = useSelector(\n    (state) => state.filters\n  );\n  const dispatch = useDispatch();\n  const { request } = useHttp();\n\n  const onSubmitHandler = (e) => {\n    e.preventDefault();\n    const newHero = {\n      id: uuidv4(),\n      name: heroName,\n      description: heroDescr,\n      element: heroElement,\n    };\n\n    request(\"http://localhost:3001/heroes\", \"POST\", JSON.stringify(newHero))\n      .then((res) => console.log(res, \"Отправка успешна\"))\n      .then(dispatch(heroCreated(newHero)))\n      .catch((err) => console.log(err));\n\n    setHeroName(\"\");\n    setHeroDescr(\"\");\n    setHeroElement(\"\");\n  };\n\n  const renderFilters = (filters, status) => {\n    if (status === \"loading\") {\n      return <option>Загрузка элементов</option>;\n    } else if (status === \"error\") {\n      return <option>Ошибка загрузки</option>;\n    }\n\n    if (filters && filters.length > 0) {\n      return filters.map(({ name, label }) => {\n        // eslint-disable-next-line\n        if (name === \"all\") return;\n\n        return (\n          <option key={name} value={name}>\n            {label}\n          </option>\n        );\n      });\n    }\n  };\n\n  return (\n    <form className=\"border p-4 shadow-lg rounded\" onSubmit={onSubmitHandler}>\n      <div className=\"mb-3\">\n        <label htmlFor=\"name\" className=\"form-label fs-4\">\n          Имя нового героя\n        </label>\n        <input\n          required\n          type=\"text\"\n          name=\"name\"\n          className=\"form-control\"\n          id=\"name\"\n          placeholder=\"Как меня зовут?\"\n          value={heroName}\n          onChange={(e) => setHeroName(e.target.value)}\n        />\n      </div>\n\n      <div className=\"mb-3\">\n        <label htmlFor=\"text\" className=\"form-label fs-4\">\n          Описание\n        </label>\n        <textarea\n          required\n          name=\"text\"\n          className=\"form-control\"\n          id=\"text\"\n          placeholder=\"Что я умею?\"\n          style={{ height: \"130px\" }}\n          value={heroDescr}\n          onChange={(e) => setHeroDescr(e.target.value)}\n        />\n      </div>\n\n      <div className=\"mb-3\">\n        <label htmlFor=\"element\" className=\"form-label\">\n          Выбрать элемент героя\n        </label>\n        <select\n          required\n          className=\"form-select\"\n          id=\"element\"\n          name=\"element\"\n          value={heroElement}\n          onChange={(e) => setHeroElement(e.target.value)}\n        >\n          <option value=\"\">Я владею элементом...</option>\n          {renderFilters(filters, filtersLoadingStatus)}\n        </select>\n      </div>\n\n      <button type=\"submit\" className=\"btn btn-primary\">\n        Создать\n      </button>\n    </form>\n  );\n};\n\nexport default HeroesAddForm;\n","import { useHttp } from \"../../hooks/http.hook\";\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport classNames from \"classnames\";\n\nimport {\n  filtersFetching,\n  filtersFetched,\n  filtersFetchingError,\n  activeFilterChanged,\n} from \"../../actions\";\nimport Spinner from \"../spinner/Spinner\";\n\nconst HeroesFilters = () => {\n  const { filters, filtersLoadingStatus, activeFilter } = useSelector(\n    (state) => state.filters\n  );\n  const dispatch = useDispatch();\n  const { request } = useHttp();\n\n  useEffect(() => {\n    dispatch(filtersFetching());\n    request(\"http://localhost:3001/filters\")\n      .then((data) => dispatch(filtersFetched(data)))\n      .catch(() => dispatch(filtersFetchingError()));\n\n    // eslint-disable-next-line\n  }, []);\n\n  if (filtersLoadingStatus === \"loading\") {\n    return <Spinner />;\n  } else if (filtersLoadingStatus === \"error\") {\n    return <h5 className=\"text-center mt-5\">Ошибка загрузки</h5>;\n  }\n\n  const renderFilters = (arr) => {\n    if (arr.length === 0) {\n      return <h5 className=\"text-center mt-5\">Фильтры не найдены</h5>;\n    }\n\n    return arr.map(({ name, className, label }) => {\n      const btnClass = classNames(\"btn\", className, {\n        active: name === activeFilter,\n      });\n\n      return (\n        <button\n          key={name}\n          id={name}\n          className={btnClass}\n          onClick={() => dispatch(activeFilterChanged(name))}\n        >\n          {label}\n        </button>\n      );\n    });\n  };\n\n  const elements = renderFilters(filters);\n\n  return (\n    <div className=\"card shadow-lg mt-4\">\n      <div className=\"card-body\">\n        <p className=\"card-text\">Отфильтруйте героев по элементам</p>\n        <div className=\"btn-group\">{elements}</div>\n      </div>\n    </div>\n  );\n};\n\nexport default HeroesFilters;\n","import HeroesList from '../heroesList/HeroesList';\nimport HeroesAddForm from '../heroesAddForm/HeroesAddForm';\nimport HeroesFilters from '../heroesFilters/HeroesFilters';\n\nimport './app.scss';\n\nconst App = () => {\n    \n    return (\n        <main className=\"app\">\n            <div className=\"content\">\n                <HeroesList/>\n                <div className=\"content__interactive\">\n                    <HeroesAddForm/>\n                    <HeroesFilters/>\n                </div>\n            </div>\n        </main>\n    )\n}\n\nexport default App;","const initialState = {\n  heroes: [],\n  heroesLoadingStatus: \"idle\",\n};\n\nconst heroes = (state = initialState, action) => {\n  switch (action.type) {\n    case \"HEROES_FETCHING\":\n      return {\n        ...state,\n        heroesLoadingStatus: \"loading\",\n      };\n    case \"HEROES_FETCHED\":\n      return {\n        ...state,\n        heroes: action.payload,\n        heroesLoadingStatus: \"idle\",\n      };\n    case \"HEROES_FETCHING_ERROR\":\n      return {\n        ...state,\n        heroesLoadingStatus: \"error\",\n      };\n    case \"HERO_CREATED\":\n      return {\n        ...state,\n        heroes: [...state.heroes, action.payload],\n      };\n    case \"HERO_DELETED\":\n      return {\n        ...state,\n        heroes: state.heroes.filter((item) => item.id !== action.payload),\n      };\n    default:\n      return state;\n  }\n};\n\nexport default heroes;\n","const initialState = {\n  filters: [],\n  filtersLoadingStatus: \"idle\",\n  activeFilter: \"all\",\n};\n\nconst filters = (state = initialState, action) => {\n  switch (action.type) {\n    case \"FILTERS_FETCHING\":\n      return {\n        ...state,\n        filtersLoadingStatus: \"loading\",\n      };\n    case \"FILTERS_FETCHED\":\n      return {\n        ...state,\n        filters: action.payload,\n        filtersLoadingStatus: \"idle\",\n      };\n    case \"FILTERS_FETCHING_ERROR\":\n      return {\n        ...state,\n        filtersLoadingStatus: \"error\",\n      };\n    case \"ACTIVE_FILTER_CHANGED\":\n      return {\n        ...state,\n        activeFilter: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default filters;\n","import { createStore, combineReducers } from \"redux\";\nimport heroes from \"../reducers/heroes\";\nimport filters from \"../reducers/filters\";\n\nconst store = createStore(\n  combineReducers({ heroes, filters }),\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport App from './components/app/App';\nimport store from './store';\n\nimport './styles/index.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}